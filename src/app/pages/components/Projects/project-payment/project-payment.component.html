<nb-card>

  <nb-alert *ngIf="showresponseResponseNotification" status="success" closable (close)="showresponseResponseNotification = false">
    {{responseMessage}}
  </nb-alert>



  <nb-alert *ngIf="showFillMandetoryValidation" status="danger" closable (close)="showFillMandetoryValidation = false">
  {{validationMessage}}
  </nb-alert>


  <nb-card-header> <Span style="font-size: 20pt"> Total Amount : {{totalAmount | currency:'INR'}} </Span> <br>
    <Span style="font-size: 20pt"> Paid Amount : {{totalPaidAmount | currency:'INR'}} </Span><br>
    <Span style="font-size: 20pt"> Due Amount : {{dueAmount | currency:'INR'}} </Span>




  </nb-card-header>
  <nb-card-body>




    <div class="form-group row">

      <label class="col-sm-2 form-control-label">Paying Amount<span class="requiredSymbol">*</span></label>
      <div class="col-sm-2">
        <input onlynumber=true required placeholder="Amount" class="form-control" type="text" [(ngModel)]="receivedAmount"
          pInputText name="amount" />
      </div>
      <div class="col-sm-2">
        <button type="button" style="float:right;margin-left:20px;" class="btn btn-hero-primary btn-demo" (click)="receiveAmount()">Received</button>
      </div>

    </div>











  </nb-card-body>
</nb-card>


<nb-card _ngcontent-c50="" _nghost-c22="">
  <nb-card-header _ngcontent-c50="">Payment History


   



  </nb-card-header>
  <nb-card-body _ngcontent-c50="">

    <p-table [style]="{'margin-bottom':'150px'}" #tt [responsive]="true" [resizableColumns]="true" [columns]="cols"
      selectionMode="multiple" [(selection)]="selectedCenters" [paginator]="true" [rows]="10" [pageLinks]="3"
      [rowsPerPageOptions]="[10,50,100]" [value]="payments">
     
      <ng-template pTemplate="header">
        <tr>
          <th style="width: 6.25em" class="table-column-align-center">
            Paid Date</th>
          <th style="width: 18.25em" class="table-column-align-center">Amount</th>

         
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-payment>
        <tr [pSelectableRow]="rowData">
          <td class="table-column-align-center">{{payment.paidAmount | currency:'INR' }}</td>
          <td class="table-column-align-center">{{payment.paymentDate | date :'dd-MM-yyyy' }}</td>

        


        </tr>
      </ng-template>
    </p-table>


  </nb-card-body>
</nb-card>

<p-dialog [(visible)]="displayConfirmation">
  <p-header>
    
  </p-header>
  Are u sure of receiving {{receivedAmount | currency:'INR' }}
  <p-footer>
    <button type="button"  class="btn btn-hero-primary btn-demo" (click)="continuePayment()">Ok</button>
  </p-footer>
</p-dialog>